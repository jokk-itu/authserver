<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="utf-8" />
		<link rel="icon" href="../favicon.png" />
		<meta name="viewport" content="width=device-width" />
		
		<link href="../_app/immutable/assets/0.5101a5e9.css" rel="stylesheet">
		<link rel="modulepreload" href="../_app/immutable/entry/start.1584289e.js">
		<link rel="modulepreload" href="../_app/immutable/chunks/index.8cffed02.js">
		<link rel="modulepreload" href="../_app/immutable/chunks/singletons.490da339.js">
		<link rel="modulepreload" href="../_app/immutable/chunks/paths.d3893845.js">
		<link rel="modulepreload" href="../_app/immutable/entry/app.11b59a67.js">
		<link rel="modulepreload" href="../_app/immutable/chunks/preload-helper.a4192956.js">
		<link rel="modulepreload" href="../_app/immutable/nodes/0.f44c6107.js">
		<link rel="modulepreload" href="../_app/immutable/chunks/mermaid-934d9bea.7fcc26aa.js">
		<link rel="modulepreload" href="../_app/immutable/nodes/3.3e2716e2.js">
		<link rel="modulepreload" href="../_app/immutable/chunks/PageTitle.df959b80.js">
		<link rel="modulepreload" href="../_app/immutable/chunks/Section.be805b22.js">
		<link rel="modulepreload" href="../_app/immutable/chunks/Diagram.9250a882.js">
	</head>
	<body data-sveltekit-preload-data="hover">
		<div style="display: contents">



<div class="flex flew-row divide-x-2"><div class="flex flex-col px-10 pt-4 flex-grow-0 flex-shrink-0 max-sm:hidden"><ul class="list-disc"><p class="text-2xl">AuthorizationServer</p>
             <hr class="pb-2">
             <li><a class="ref-link text-lg" href="/authserver/">Introduction</a></li>
             <li><a class="ref-link text-lg" href="/authserver/architecture">Architecture</a></li>
             <li><a class="ref-link text-lg" href="/authserver/configurationapp">Configuration App</a></li>
             <li><a class="ref-link text-lg" href="/authserver/authorize">Authorize</a></li>
             <li><a class="ref-link text-lg" href="/authserver/token">Token</a></li>
             <li><a class="ref-link text-lg" href="/authserver/datamodel">DataModel</a></li>
             <li><a class="ref-link text-lg" href="/authserver/dynamicclientregistration">Dynamic Client Registration</a></li>
             <li><a class="ref-link text-lg" href="/authserver/logout">Logout</a>
               <ul class="pl-4 list-disc"><li><a class="ref-link" href="/authserver/logout/backchannel">Backchannel</a></li>
                    <li><a class="ref-link" href="/authserver/logout/rpinitiated">RP Initiated</a></li></ul></li>
             <li><a class="ref-link text-lg" href="/authserver/userinfo">UserInfo</a></li>
             <li><a class="ref-link text-lg" href="/authserver/discovery">Discovery</a></li>
             <li><a class="ref-link text-lg" href="/authserver/introspection">Introspection</a></li>
             <li><a class="ref-link text-lg" href="/authserver/revocation">Revocation</a></li>
             <li><a class="ref-link text-lg" href="/authserver/clients">Clients</a>
               <ul class="pl-4 list-disc"><li><a class="ref-link" href="/authserver/clients/bffapp">BFFApp</a></li>
                    <li><a class="ref-link" href="/authserver/clients/worker">Worker</a></li>
                    <li><a class="ref-link" href="/authserver/clients/webapp">WebApp</a></li></ul></li>
             <li><a class="ref-link text-lg" href="/authserver/resources">Resources</a>
               <ul class="pl-4 list-disc"><li><a class="ref-link" href="/authserver/resources/weather">Weather</a></li></ul></li></ul></div>
 
     <div class="px-12 pt-4 flex-grow-3 w-screen overflow-clip"><h1 class="text-4xl mb-2">Architecture</h1>
<hr class="mb-4">
<div class="mb-4 word" id="introduction"><div class="inline-flex"><a class="ref-link" href="#introduction"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-6 h-6"><path stroke-linecap="round" stroke-linejoin="round" d="M5.25 8.25h15m-16.5 7.5h15m-1.8-13.5l-3.9 19.5m-2.1-19.5l-3.9 19.5"></path></svg></a>
        <h3 class="text-xl">Introduction</h3></div>
    <hr class="mb-4">
    <p>The AuthorizationServer is built using Razor pages for UI,
supporting a MVVM architecture and a Vertical slice architecture
for endpoints with mediator.
</p></div>

<div class="mb-4 word" id="api"><div class="inline-flex"><a class="ref-link" href="#api"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-6 h-6"><path stroke-linecap="round" stroke-linejoin="round" d="M5.25 8.25h15m-16.5 7.5h15m-1.8-13.5l-3.9 19.5m-2.1-19.5l-3.9 19.5"></path></svg></a>
        <h3 class="text-xl">API</h3></div>
    <hr class="mb-4">
    The API consists of endpoints, where each endpoint builds the received contract,
using the <code>IContextAccessor</code>. The query or command send using Mediator,
is built and then a <code>Response</code> is received.
Mediator consists of a pipeline including a Validator pipe and a Logging pipe.
<br>
The Validator pipe is responsible for invoking all registered validators for the query or command.
The Logging pipe is responsible for logging.
<br>
When the response is received, it is checked for errors,
and an appropiate HTTP response is finally returned.
</div>
<pre id="QoDMDIR4dD2h6diIhr4BdQRD7sOBFetd">    
        flowchart LR
        A(IEndpoint)
        B(IMediator)
        C(ValidatorPipeline)
        D(LoggingPipeline)
        E(Handler)
        A --> B --> C --> D --> E
    
</pre>

<div class="mb-4 word" id="pkce"><div class="inline-flex"><a class="ref-link" href="#pkce"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-6 h-6"><path stroke-linecap="round" stroke-linejoin="round" d="M5.25 8.25h15m-16.5 7.5h15m-1.8-13.5l-3.9 19.5m-2.1-19.5l-3.9 19.5"></path></svg></a>
        <h3 class="text-xl">PKCE</h3></div>
    <hr class="mb-4">
    This is required during authorize grants, also for confidential clients.
code_challenge method must not be plain text.
</div>

<div class="mb-4 word" id="client configuration"><div class="inline-flex"><a class="ref-link" href="#client configuration"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-6 h-6"><path stroke-linecap="round" stroke-linejoin="round" d="M5.25 8.25h15m-16.5 7.5h15m-1.8-13.5l-3.9 19.5m-2.1-19.5l-3.9 19.5"></path></svg></a>
        <h3 class="text-xl">Client Configuration</h3></div>
    <hr class="mb-4">
    Secret must be hashed at the OP and only the hash is stored.
Therefore, the secret is not returned during dynamic client registration GET requests.
</div>

<div class="mb-4 word" id="userinfo"><div class="inline-flex"><a class="ref-link" href="#userinfo"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-6 h-6"><path stroke-linecap="round" stroke-linejoin="round" d="M5.25 8.25h15m-16.5 7.5h15m-1.8-13.5l-3.9 19.5m-2.1-19.5l-3.9 19.5"></path></svg></a>
        <h3 class="text-xl">UserInfo</h3></div>
    <hr class="mb-4">
    Scope <code>identityprovider:userinfo</code> is required.
It is to limit the authorization of the access token.
</div></div></div>


			
			<script>
				{
					__sveltekit_d7ito8 = {
						assets: "/authserver",
						base: new URL("..", location).pathname.slice(0, -1),
						env: {}
					};

					const element = document.currentScript.parentElement;

					const data = [null,null];

					Promise.all([
						import("../_app/immutable/entry/start.1584289e.js"),
						import("../_app/immutable/entry/app.11b59a67.js")
					]).then(([kit, app]) => {
						kit.start(app, element, {
							node_ids: [0, 3],
							data,
							form: null,
							error: null
						});
					});
				}
			</script>
		</div>
	</body>
</html>